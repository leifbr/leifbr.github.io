<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Module - Basic Setup, TMSH and SNATs</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Module - Basic Setup, TMSH and SNATs"/>
  <meta name="product" content="Unofficial - F5 Certification Exam Prep Material"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2020-08-13 09:31:44"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="Unofficial - F5 Certification Exam Prep Material" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Module - Basic Setup, TMSH and SNATs &#8212; Unofficial - F5 Certification Exam Prep Material  documentation</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5_agility_theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/CoveoFullSearch.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/21fb8a09c3.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Appendix II - TMSH commands for Module 3.1" href="../module13/module13.html" />
    <link rel="prev" title="Appendix I - ANSWER KEY" href="module12.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>Unofficial - F5 Certification Exam Prep Material  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Intro:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Getting Started with the F5 Certification Program 03/29/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 101 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">F5 101 - App Delivery Fundamentals Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 201 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class2/class2.html">F5 201 - TMOS Administration Study Guide 11/01/19</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class3/class3.html">F5 201 - TMOS Administration Labs 08/11/2020</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 202 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">F5 202 - Pre-Sales Fundamentals Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 301A Certification Exam Resources:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">F5 301A - BIG-IP LTM Specialist: Architect, Set-Up &amp; Deploy Study Guide 11/01/19</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class6.html">F5 301A - BIG-IP LTM Specialist Labs 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 301B Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class7/class7.html">F5 301B - BIG-IP LTM Specialist: Maintain and Troubleshoot Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 302 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class9/class9.html">F5 302 - BIG-IP DNS Specialist Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 303 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class11/class11.html">F5 303 - BIG-IP ASM Specialist Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 304 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class13/class13.html">F5 304 - BIG-IP APM Specialist Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 401 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class15/class15.html">F5 401 - Security Solution Expert Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 402 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class17/class17.html">F5 402 - Cloud Solutions Study Guide 11/01/19</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Module - Basic Setup, TMSH and SNATs</a><ul>
<li><a class="reference internal" href="#basic-set-up-using-tmsh">Basic set up using TMSH</a><ul>
<li><a class="reference internal" href="#open-big-ip-tmsh-and-tcpdump-session">Open BIG-IP TMSH and TCPDump session</a></li>
<li><a class="reference internal" href="#snat-pools">SNAT Pools</a></li>
<li><a class="reference internal" href="#snats-and-nats">SNATs and NATs</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-profiles">Module - Profiles</a><ul>
<li><a class="reference internal" href="#working-with-profiles">Working with Profiles</a><ul>
<li><a class="reference internal" href="#id1">Working with profiles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-acceleration">Application Acceleration</a><ul>
<li><a class="reference internal" href="#tcp-express">TCP Express</a></li>
<li><a class="reference internal" href="#http-optimization-ramcache-lab">HTTP Optimization - RamCache Lab</a></li>
<li><a class="reference internal" href="#http-optimization-http-compression-lab">HTTP Optimization - HTTP Compression Lab</a></li>
<li><a class="reference internal" href="#securing-web-applications-with-the-http-profile">Securing web applications with the HTTP profile</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-application-visibilty-and-reporting-avr">Module - Application Visibilty and Reporting (AVR)</a><ul>
<li><a class="reference internal" href="#working-with-analytics-avr">Working with Analytics (AVR)</a><ul>
<li><a class="reference internal" href="#avr-lab-setup-verify-provisioning-irules-and-data-group">AVR Lab Setup - Verify provisioning, iRules and Data Group</a></li>
<li><a class="reference internal" href="#view-the-analytics-reports">View the Analytics Reports</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-monitors-and-status">Module - Monitors and Status</a><ul>
<li><a class="reference internal" href="#basic-monitoring">Basic Monitoring</a><ul>
<li><a class="reference internal" href="#default-monitors">Default Monitors</a></li>
<li><a class="reference internal" href="#task-2-content-monitors">Task 2 - Content Monitors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virtual-server-status">Virtual Server Status</a><ul>
<li><a class="reference internal" href="#test-disabled-virtual-servers">Test Disabled Virtual Servers</a></li>
<li><a class="reference internal" href="#virtual-server-connection-limits-and-status">Virtual Server Connection Limits and Status</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pool-member-and-virtual-servers">Pool Member and Virtual Servers</a><ul>
<li><a class="reference internal" href="#effects-of-monitors-on-members-pools-and-virtual-servers">Effects of Monitors on Members, Pools and Virtual Servers</a></li>
<li><a class="reference internal" href="#more-on-status-and-member-specific-monitors">More on status and member specific monitors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extended-application-verification-eav">Extended Application Verification (EAV)</a><ul>
<li><a class="reference internal" href="#create-an-eav-monitor">Create an EAV monitor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inband-monitors">Inband Monitors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-ssl">Module - SSL</a><ul>
<li><a class="reference internal" href="#ssl-certificates-and-profiles">SSL Certificates and Profiles</a><ul>
<li><a class="reference internal" href="#importing-certs-and-key">Importing Certs and Key</a></li>
<li><a class="reference internal" href="#ssl-profile-and-virtual-servers">SSL Profile and Virtual Servers</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-virtual-servers-and-packet-processing-review">Module - Virtual Servers and Packet Processing Review</a><ul>
<li><a class="reference internal" href="#lab-preparation-and-packet-processing">Lab Preparation and Packet Processing</a><ul>
<li><a class="reference internal" href="#id2">Open BIG-IP TMSH and TCPDump session</a></li>
<li><a class="reference internal" href="#establish-ftp-connection">Establish ftp connection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#packet-filters">Packet Filters</a><ul>
<li><a class="reference internal" href="#test-the-ftp-packet-filter">Test the FTP packet filter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virtual-server-packet-processing">Virtual Server Packet Processing</a><ul>
<li><a class="reference internal" href="#testing-virtual-server-packet-processing-behavior">Testing Virtual Server Packet Processing Behavior</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ip-forwarding-virtual-servers">IP Forwarding Virtual Servers</a><ul>
<li><a class="reference internal" href="#forwarding-virtual-server">Forwarding Virtual Server</a></li>
<li><a class="reference internal" href="#more-on-transparent-virtual-servers">More on Transparent Virtual Servers</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-load-balancing-and-pools">Module - Load Balancing and Pools</a><ul>
<li><a class="reference internal" href="#load-balancing">Load Balancing</a><ul>
<li><a class="reference internal" href="#ratio-load-balancing">Ratio Load Balancing</a></li>
<li><a class="reference internal" href="#priority-groups-lab">Priority Groups Lab</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simple-source-address-persistence">Simple (Source Address) Persistence</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-networking">Module - Networking</a><ul>
<li><a class="reference internal" href="#self-ip-port-lockdown-and-more">Self IP Port Lockdown and more</a><ul>
<li><a class="reference internal" href="#effects-of-port-lockdown">Effects of Port Lockdown</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-roles-and-partitions">Module - Roles and Partitions</a><ul>
<li><a class="reference internal" href="#roles-and-partitions">Roles and Partitions</a><ul>
<li><a class="reference internal" href="#create-and-place-a-user-in-a-partition">Create and place a user in a partition</a></li>
</ul>
</li>
<li><a class="reference internal" href="#remote-authentication">Remote Authentication</a><ul>
<li><a class="reference internal" href="#authenticate-against-ldap">Authenticate against LDAP</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-device-service-clusters-and-high-availability">Module - Device Service Clusters and High Availability</a><ul>
<li><a class="reference internal" href="#building-a-dsc-device-service-cluster">Building a DSC (Device Service Cluster)</a><ul>
<li><a class="reference internal" href="#base-networking-and-ha-vlan">Base Networking and HA VLAN</a></li>
<li><a class="reference internal" href="#prepare-each-big-ip-for-high-availability">Prepare each BIG-IP for High Availability</a></li>
<li><a class="reference internal" href="#build-the-device-trust-and-device-group">Build the Device Trust and Device Group</a></li>
</ul>
</li>
<li><a class="reference internal" href="#failover-and-mirroring">Failover and Mirroring</a><ul>
<li><a class="reference internal" href="#testing-failover">Testing Failover</a></li>
<li><a class="reference internal" href="#mirroring">Mirroring</a></li>
</ul>
</li>
<li><a class="reference internal" href="#traffic-groups">Traffic Groups</a><ul>
<li><a class="reference internal" href="#build-a-new-traffic-group">Build a New Traffic Group</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-security-and-securing-the-big-ip">Module - Security and Securing the BIG-IP</a><ul>
<li><a class="reference internal" href="#more-security-features">More Security Features</a><ul>
<li><a class="reference internal" href="#configure-audit-logging">Configure Audit Logging</a></li>
<li><a class="reference internal" href="#limiting-ssh-access-to-the-big-ip">Limiting SSH access to the BIG-IP</a></li>
</ul>
</li>
<li><a class="reference internal" href="#big-ip-remote-logging">BIG-IP Remote Logging</a><ul>
<li><a class="reference internal" href="#test-your-logging-configuration">Test your logging configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">Unofficial - F5 Certification Exam Prep Material</a>
              &gt; <a href="../class6.html">F5 301A - BIG-IP LTM Specialist Labs 11/01/19</a>
              &gt; <a href="module12.html">Appendix I - ANSWER KEY</a>

          <span class="right">
             <a href="../../_sources/class6/module12/lab1.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/leifbr/f5-agility-labs-cert">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="module-basic-setup-tmsh-and-snats">
<h1>Module - Basic Setup, TMSH and SNATs<a class="headerlink" href="#module-basic-setup-tmsh-and-snats" title="Permalink to this headline">¶</a></h1>
<div class="section" id="basic-set-up-using-tmsh">
<h2>Basic set up using TMSH<a class="headerlink" href="#basic-set-up-using-tmsh" title="Permalink to this headline">¶</a></h2>
<div class="section" id="open-big-ip-tmsh-and-tcpdump-session">
<h3>Open BIG-IP TMSH and TCPDump session<a class="headerlink" href="#open-big-ip-tmsh-and-tcpdump-session" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. In the</em> <strong>Request Detail</strong> <em>at the top of the page, what is the client
IP address and why?</em></p>
<p>10.1.20.245, because you applied SNAT Auto Map to the www_vs virtual
server and that is the self IP address on the server VLAN</p>
</div>
<div class="section" id="snat-pools">
<h3>SNAT Pools<a class="headerlink" href="#snat-pools" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Do you see traffic destined for the FTP server? What is the source IP?</em></p>
<p>Yes, monitor traffic is hitting the FTP server at 10.1.20.15 from source
IP 10.1.20.245 because monitors are serviced from the self IPs.</p>
<p><em>Q2. Why might you require more than one IP address in the SNAT pool?</em></p>
<p>When you have more than 65535 simultaneous connections. You should have
one IP address for every 65000 simultaneous connections or you may run
into port exhaustion.</p>
<p><em>Q3. What is the client IP?</em></p>
<p>10.1.20.249</p>
<p><em>Q4. What are the ephemeral port numbers on your client-side source IP
and server-side source IP?</em></p>
<p>They are the same ephemeral port numbers on your client-side source IP
and server-side source IP. BIG-IP will attempt to keep them the same if
the port is not already in use.</p>
</div>
<div class="section" id="snats-and-nats">
<h3>SNATs and NATs<a class="headerlink" href="#snats-and-nats" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Did the command succeed?</em></p>
<p>No, the LAMP sent the request to the BIG-IP, but has no access to the
client-side network.</p>
<p><em>Q2. Did the dig work? What was the source IP?. Did the ping work? What
was the result?</em></p>
<p>Yes, the source IP was 10.1.20.248. The ping did not work, Destination
Net Prohibited</p>
<p><em>Q3. What happened when you try to FTP to the SNAT address?</em></p>
<p>The BIG-IP sends a reset.</p>
<p><em>Q4. When you attempted to FTP and ping 10.1.10.15 and access 10.1.20.15
behind the BIG-IP were you successful?</em></p>
<p>Yes, you should be able to FTP and ping to 10.1.20.15.</p>
</div>
</div>
</div>
<div class="section" id="module-profiles">
<h1>Module - Profiles<a class="headerlink" href="#module-profiles" title="Permalink to this headline">¶</a></h1>
<div class="section" id="working-with-profiles">
<h2>Working with Profiles<a class="headerlink" href="#working-with-profiles" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Working with profiles<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Did site work? Why didn’t you need to SNAT? Did you need SSL
profiles?</em></p>
<p>Yes, you didn’t need to SNAT because you put the servers default gateway
on the BIG-IP (routed mode), you didn’t need SSL profiles because the
client created an SSL session directly with the backend server.</p>
<p><em>Q2. Could you use L7 iRules or profiles to view or modify the request or
response? Why or why not?</em></p>
<p>No, because the session was encrypted through the proxy. Had this been
unencrypted you would have seen the HTTP request and response in the
tcpdumps.</p>
<p><em>Q3. Did site work? Why not?</em></p>
<p>SSL connection error, you could not establish a SSL session directly to
the backend servers because they don’t support HTTPS.</p>
<p><em>Q4. Did site work? What did you observe in the TCPDUMPs? Did you need an
HTTP profile?</em></p>
<p>Yes, the tcpdumps show the client-side connection was encrypted and the
serve-side connection was not encrypted. The HTTP profile is not
required for SSL profiles to work, their at a different layer in the
stack.</p>
<p><em>Q5. Did it work? What was needed to add cookie persistence?</em></p>
<p>Yes, after you added the http profile to break out the http (L7)
request/response sequence.</p>
<p><em>Q6. What nodes do the pictures come from? What is the name of the cookie
inserted begin with?</em></p>
<p>All the images came from the same node. The cookie starts with
BIGipServerwww_pool</p>
<p><em>Q5. Did site work?</em></p>
<p>No, the BIG-IP was sending unencrypted request to encrypted servers.</p>
<p><em>Q6. What profile was needed to correct the error?</em></p>
<p>Server side ssl profile</p>
</div>
</div>
<div class="section" id="application-acceleration">
<h2>Application Acceleration<a class="headerlink" href="#application-acceleration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tcp-express">
<h3>TCP Express<a class="headerlink" href="#tcp-express" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the idle timeout in each profile? Why might you want to
change it?</em></p>
<p>300 second, for long term connections, such as telnet, ssh or ftp</p>
<p><em>Q2. What is the Nagle selection in the tcp-wan-optimized? Why might you
want to change it?</em></p>
<p>Nagle combines smaller packets into a larger packet for efficiency. It
the application relays on small packets for connection information,
Nagle may cause connection delays.</p>
<p><em>Q3. What happens if you increase the proxy buffer sizes?</em></p>
<p>You will use more memory per connection, for all connections using that
TCP profile.</p>
</div>
<div class="section" id="http-optimization-ramcache-lab">
<h3>HTTP Optimization - RamCache Lab<a class="headerlink" href="#http-optimization-ramcache-lab" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What resource would be consumed if you increased the</em> <strong>Cache Size</strong>
<em>setting?</em></p>
<p>More memory, per virtual server the caching profile was attached too.</p>
<p><em>Q2. The pictures do not change. Why do you think that is?</em></p>
<p>They are being pulled from cache.</p>
<p><em>Q3. Go to your pool. Are all pool members taking connections?</em></p>
<p>Yes, there are still uncacheable items to be retrieved.</p>
</div>
<div class="section" id="http-optimization-http-compression-lab">
<h3>HTTP Optimization - HTTP Compression Lab<a class="headerlink" href="#http-optimization-http-compression-lab" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Does the browser accept compression?</em></p>
<p>Yes, in the Request Headers you find Accept-Encoding: gzip, deflate.</p>
<p><em>Q2. At what point would the BIG-IP quit compressing responses?</em></p>
<p>When it hits 90% CPU</p>
</div>
<div class="section" id="securing-web-applications-with-the-http-profile">
<h3>Securing web applications with the HTTP profile<a class="headerlink" href="#securing-web-applications-with-the-http-profile" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the cookie name? Note the information after the cookie.</em></p>
<p>BIGipServerwww_pool</p>
<p><em>Q2. What is in the X-Forwarded-For header? Why might you want to enable it?</em></p>
<p>It place the original client IP in the HTTP header. It is useful for
virtual servers with SNAT if the original client IP is needed for
logging or other purposes.</p>
<p><em>Q3. Are they the same? What is different?</em></p>
<p>No, the server information has be removed from the response coming from
the secure_vs</p>
<p><em>Q4. What is the result?</em></p>
<p>Redirected to www.f5.com.</p>
<p><em>Q5. What is different from the cookie at the start of the task?</em></p>
<p>Everything after the = sign as been encrytped</p>
</div>
</div>
</div>
<div class="section" id="module-application-visibilty-and-reporting-avr">
<h1>Module - Application Visibilty and Reporting (AVR)<a class="headerlink" href="#module-application-visibilty-and-reporting-avr" title="Permalink to this headline">¶</a></h1>
<div class="section" id="working-with-analytics-avr">
<h2>Working with Analytics (AVR)<a class="headerlink" href="#working-with-analytics-avr" title="Permalink to this headline">¶</a></h2>
<div class="section" id="avr-lab-setup-verify-provisioning-irules-and-data-group">
<h3>AVR Lab Setup - Verify provisioning, iRules and Data Group<a class="headerlink" href="#avr-lab-setup-verify-provisioning-irules-and-data-group" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What resources does AVR require to be provisioned?</em></p>
<p>16 gb of disks outside of the boot volume and 448mb of memory</p>
<p><em>Q2. Review the iRule, what profiles are required on the virtual server?</em></p>
<p>tcp and http</p>
<p><em>Q3. Review the iRule, what profiles are required on the virtual server?</em></p>
<p>tcp and http</p>
</div>
<div class="section" id="view-the-analytics-reports">
<h3>View the Analytics Reports<a class="headerlink" href="#view-the-analytics-reports" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What country has the most transactions?</em></p>
<p>Usually the majority of the requests are coming from the United States.</p>
<p><em>Q2. What are the top two User Agents?</em></p>
<p>A majority of the requests should be from Internet Explorer v11 and
iPhone6 users, but it’s not guaranteed due to the randomness of the
iRule.</p>
</div>
</div>
</div>
<div class="section" id="module-monitors-and-status">
<h1>Module - Monitors and Status<a class="headerlink" href="#module-monitors-and-status" title="Permalink to this headline">¶</a></h1>
<div class="section" id="basic-monitoring">
<h2>Basic Monitoring<a class="headerlink" href="#basic-monitoring" title="Permalink to this headline">¶</a></h2>
<div class="section" id="default-monitors">
<h3>Default Monitors<a class="headerlink" href="#default-monitors" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What would happen if a node failed?</em></p>
<p>The pool members with the node IP address would be marked offline.</p>
<p><em>Q2. What are your node statuses?</em></p>
<p>Available</p>
</div>
<div class="section" id="task-2-content-monitors">
<h3>Task 2 - Content Monitors<a class="headerlink" href="#task-2-content-monitors" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the status of the pool and its members?</em></p>
<p>Available</p>
<p><em>Q2. Go to</em> <strong>Virtual Servers</strong> <em>or</em> <strong>Network Map</strong> <em>, what is the status of
your virtual server?</em></p>
<p>Available</p>
<p><em>Q3. What is status of your pool and virtual server now?</em></p>
<p>Both the pool and virtual servers dependent on the pool are mark
offline.</p>
</div>
</div>
<div class="section" id="virtual-server-status">
<h2>Virtual Server Status<a class="headerlink" href="#virtual-server-status" title="Permalink to this headline">¶</a></h2>
<div class="section" id="test-disabled-virtual-servers">
<h3>Test Disabled Virtual Servers<a class="headerlink" href="#test-disabled-virtual-servers" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the Availability of</em> <strong>www_vs</strong>? <em>What is the State?</em></p>
<p>Availability: available, State: disabled</p>
<p><em>Q2. What symbol is used to represent</em> <strong>www_vs</strong> <em>status?</em></p>
<p>Black Circle</p>
<p><em>Q3. Would you expect browsing to http://10.1.10.100 to work?</em></p>
<p>no</p>
<p><em>Q4. Can you ping the virtual IP?</em></p>
<p>Yes, the virtual address still responds to pings</p>
<p><em>Q5. Did the site work? What did the tcpdump show?</em></p>
<p>No, the tcpdump showed the virtual server 10.1.10.100:80 responding to
SYNs with Resets</p>
<p><em>Q6. Did statistics counters for any virtual increment?</em></p>
<p>No</p>
<p><em>Q7. Why do you think the</em> <strong>wildcard_vs</strong> <em>didn’t pick up the packets?</em></p>
<p>www_vs was the most specific virtual server so it responded. That
response was to reset the connection.</p>
<p><em>Q8. What symbol is used to represent</em> <strong>wildcard_vs</strong>? <em>Why is symbol a
square?</em></p>
<p>The status symbol is a black square. Black because the virtual server
was administratively disabled and square because there is no monitor and
the state is Unknown</p>
<p><em>Q9. What is the Reason given for current state?</em></p>
<p>The children pool member(s) either don’t have service checking enabled,
or service check results are not available yet. Availability: unknown
State: disabled</p>
<p><em>Q10. Does ftp session still work? Why?</em></p>
<p>Disabling a configuration item (node, pool or virtual server) does not
affect existing connections.</p>
<p><em>Q11. Did new ftp session establish connection? Why not?</em></p>
<p>No, a disabled virtual server will not process new connections.</p>
</div>
<div class="section" id="virtual-server-connection-limits-and-status">
<h3>Virtual Server Connection Limits and Status<a class="headerlink" href="#virtual-server-connection-limits-and-status" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Does ftp session work?</em></p>
<p>Yes</p>
<p><em>Q2. What is the virtual server status of</em> <strong>ftp_vs</strong>?</p>
<p>Yellow Triangle - Availability: unavailable - State: enabled</p>
<p><em>Q3. Did new ftp session establish connection? Why not?</em></p>
<p>No, the virtual server’s connection limit has been reached.</p>
<p><em>Q4. Did tcpdump capture a connection reset?</em></p>
<p>Yes, tcpdump had <strong>R</strong> resets returning from the virtual server.</p>
</div>
</div>
<div class="section" id="pool-member-and-virtual-servers">
<h2>Pool Member and Virtual Servers<a class="headerlink" href="#pool-member-and-virtual-servers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="effects-of-monitors-on-members-pools-and-virtual-servers">
<h3>Effects of Monitors on Members, Pools and Virtual Servers<a class="headerlink" href="#effects-of-monitors-on-members-pools-and-virtual-servers" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Since the</em> <strong>mysql_monitor</strong> <em>will fail, how long will it take to
mark the pool offline?</em></p>
<p>60 seconds, the monitor will have to fail 4 times at 15 second intervals
before it exceeds the 46 second timeout value.</p>
<p><em>Q2. What is the icon and status of</em> <strong>www_vs</strong>?</p>
<p>Red Diamond - Availability: offline - State: enabled - The children pool
member(s) are down</p>
<p><em>Q3. What is the icon and status of</em> <strong>www_pool</strong>?</p>
<p>Red Diamond - Availability: offline - State: enabled - The children pool
member(s) are down</p>
<p><em>Q4. What is the icon and status of the</em> <strong>www_pool</strong> <em>members?</em></p>
<p>Red Diamond - Availability: offline - State: enabled - Pool member has
been marked down by a monitor</p>
<p><em>Q5. Does pool configuration have an effect on virtual server status?</em></p>
<p>Yes, the status of the pool members can affect the status of the virtual
server.</p>
<p><em>Q6. What is the icon and status of www_vs?</em></p>
<p>Black Diamond - Availability: offline - State: disabled - The children
pool member(s) are down</p>
<p><em>Q7. Did traffic counters increment for</em> <strong>www_vs</strong>?</p>
<p>No</p>
<p><em>Q8. What is the difference in the tcpdumps between Offline (Disabled) vs
Offline (Enabled)?</em></p>
<p>Offline (Disabled) - immediate connection reset, you will see no virtual
server statistics.</p>
<p>Offline (Enabled) - initial connection accepted then reset - vs stats
incremented</p>
</div>
<div class="section" id="more-on-status-and-member-specific-monitors">
<h3>More on status and member specific monitors<a class="headerlink" href="#more-on-status-and-member-specific-monitors" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the status of the Pool Member and the monitors assigned to it?</em></p>
<p>Red Diamond - Red Diamond - Availability: offline - State: enabled -
Pool member has been marked down by a monitor</p>
<p>http - Green Circle, mysql_monitor - Red Diamond</p>
<p><em>Q2. What is the status of</em> <strong>www_vs</strong>, <strong>www_pool</strong> <em>and the pool
members? Why?</em></p>
<p>Green, Green, Red, Red, Green. One pool member available, marks the pool
available and since the pool is available, the virtual server is
available</p>
<p><em>Q3. Did the site work?</em></p>
<p>Yes</p>
<p><em>Q4. Which</em> <strong>www_pool</strong> <em>members was traffic sent to?</em></p>
<p>Traffic was distributed to available pool members.</p>
</div>
</div>
<div class="section" id="extended-application-verification-eav">
<h2>Extended Application Verification (EAV)<a class="headerlink" href="#extended-application-verification-eav" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-an-eav-monitor">
<h3>Create an EAV monitor<a class="headerlink" href="#create-an-eav-monitor" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What was the stdout output? Did this indicate the member was Available?</em></p>
<p>UP, indicating the member was Availble</p>
<p><em>Q2. Are your members up? What would happen if the external monitor
returned “DOWN”</em></p>
<p>Yes, the same would be true if DOWN was returned, any stdout output is
consider good status</p>
</div>
</div>
<div class="section" id="inband-monitors">
<h2>Inband Monitors<a class="headerlink" href="#inband-monitors" title="Permalink to this headline">¶</a></h2>
<p><em>Q1. What is the status of the</em> <strong>www_pool</strong> <em>and</em> <strong>www_vs</strong> <em>objects? Is
the web site accessible? Why?</em></p>
<p>Unchecked (blue square), Yes, because Uncheck simply mean the status in
unknown and is always assumed to be availale.</p>
<p><em>Q2. What are the status of</em> <strong>www_pool</strong> <em>and</em> <strong>www_vs</strong>? <em>Can you access
the web site?</em></p>
<p>Available, Yes</p>
<p><em>Q3. Why is the</em> <strong>www_pool</strong> <em>still showing up?</em></p>
<p>Because there hasn’t been any client traffic to trigger the inband
monitor.</p>
<p><em>Q4. What is the status of the</em> <strong>www_pool</strong> <em>now?</em></p>
<p>Offline</p>
<p><em>Q5. What are the pool statuses and why?</em></p>
<p>Offline, regardless of client traffic the BIG-IP will not attempt a
connection to the offline pool members for 300 seconds</p>
<p><em>Q6. How often to you see monitor traffic to the</em> <strong>www_pool</strong>?</p>
<p>Once a minute</p>
<p><em>Q7. How often to you see monitor traffic to the</em> <strong>www_pool</strong>?</p>
<p>Every 5 seconds</p>
<p><em>Q8. Did the www_pool come up within 30 seconds without client traffic?
What did the tcpdump show?</em></p>
<p>Yes, the active monitor marked the pool up after 6 consecutive
successful monitor attempts.</p>
<p>The tcpdump show the monitor executing every 5 seconds until the members
were marked Available then it slowed to every 60 seconds.</p>
</div>
</div>
<div class="section" id="module-ssl">
<h1>Module - SSL<a class="headerlink" href="#module-ssl" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ssl-certificates-and-profiles">
<h2>SSL Certificates and Profiles<a class="headerlink" href="#ssl-certificates-and-profiles" title="Permalink to this headline">¶</a></h2>
<div class="section" id="importing-certs-and-key">
<h3>Importing Certs and Key<a class="headerlink" href="#importing-certs-and-key" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the common name of your imported certificate and when does
it expire?</em></p>
<p>Linux32server1.f5se.com, Jun 16, 2020</p>
</div>
<div class="section" id="ssl-profile-and-virtual-servers">
<h3>SSL Profile and Virtual Servers<a class="headerlink" href="#ssl-profile-and-virtual-servers" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Did it work?</em></p>
<p>Yes</p>
</div>
</div>
</div>
<div class="section" id="module-virtual-servers-and-packet-processing-review">
<h1>Module - Virtual Servers and Packet Processing Review<a class="headerlink" href="#module-virtual-servers-and-packet-processing-review" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lab-preparation-and-packet-processing">
<h2>Lab Preparation and Packet Processing<a class="headerlink" href="#lab-preparation-and-packet-processing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Open BIG-IP TMSH and TCPDump session<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Why are ssh sessions not displayed in connection table?</em></p>
<p><strong>tmsh show sys connections</strong> displays connections on the TMOS data plane.
SSH connections are established to out-of-band management interface and
thus not seen.</p>
</div>
<div class="section" id="establish-ftp-connection">
<h3>Establish ftp connection<a class="headerlink" href="#establish-ftp-connection" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. In the tcpdump above, what is client IP address and port and the
server IP address port?</em></p>
<p>10.1.10.51:60603 and 10.1.10.20:21 (FTP)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">60603 is an ephemeral port, your port will probably be differenr.  BIG-IP will attempt to use the same ephemeral port on the server-side connection, if the port is available.</p>
</div>
<p><em>Q2. What is source ip and port as seen by ftp server in the example
above?</em></p>
<p>Source IP: 10.1.20.249 Source Port: &lt;it should be the same as the client ephemeral port&gt;</p>
<p><em>Q3. What happened to the original client IP address and where did
10.1.20.249 come from?</em></p>
<p>The virtual server was configured to do source address translation using
the SNAT Pool, SNAT249_pool. Reviewing the configuration of
SNAT249_pool shows it was configured with IP address 10.1.20.249.</p>
</div>
</div>
<div class="section" id="packet-filters">
<h2>Packet Filters<a class="headerlink" href="#packet-filters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="test-the-ftp-packet-filter">
<h3>Test the FTP packet filter<a class="headerlink" href="#test-the-ftp-packet-filter" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Was the existing ftp connection in the connection table affected?
Why?</em></p>
<p>The FTP connection is not affected because adding packet filter does not
impact established connections.</p>
<p><em>Q2. Was ftp connection successful? Why?</em></p>
<p>The attempt to establish a new FTP connection was blocked, because the
packet filter rule applies to all new connection attempts</p>
<p><em>Q3. What did tcpdump reveal? Connection timeout or reset?</em></p>
<p>Tcpdump revealed multiple “S” (syn) attempts without receiving ack or reset. This
is indicating a connection timeout.</p>
<p><em>Q4. What did virtual server statistics for ftp20_vs reveal? Why are
counters not incrementing?</em></p>
<p>VS stats shows no new connection attempts because Filter is applied
before VS in order of processing</p>
<p><em>Q5. Prioritize the packet processing order:</em></p>
<p>Virtual Server <strong>3</strong> SNAT <strong>4</strong> AFM/Pkt Filter <strong>2</strong> NAT <strong>5</strong> Existing
Connections <strong>1</strong> Self IP <strong>6</strong> Drop <strong>7</strong></p>
</div>
</div>
<div class="section" id="virtual-server-packet-processing">
<h2>Virtual Server Packet Processing<a class="headerlink" href="#virtual-server-packet-processing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="testing-virtual-server-packet-processing-behavior">
<h3>Testing Virtual Server Packet Processing Behavior<a class="headerlink" href="#testing-virtual-server-packet-processing-behavior" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Which VS is used for web traffic over port 8080?</em></p>
<p>wildcard_vs</p>
<p><em>Q2. Which VS is used for ftp traffic?</em></p>
<p>ftp_vs</p>
<p><em>Q3. Which VS is used for web traffic over the default HTTP port? Which
port was used?</em></p>
<p>www_vs port 80</p>
<p><em>Q4. Which VS is used for web traffic?</em></p>
<p><strong>wildcard_vs</strong></p>
</div>
</div>
<div class="section" id="ip-forwarding-virtual-servers">
<h2>IP Forwarding Virtual Servers<a class="headerlink" href="#ip-forwarding-virtual-servers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="forwarding-virtual-server">
<h3>Forwarding Virtual Server<a class="headerlink" href="#forwarding-virtual-server" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What happens if we don’t change the Protocol from TCP?</em></p>
<p>Only TCP will be allowed through, things like ICMP and UDP will be
blocked</p>
<p><em>Q2. What is the status of your new virtual server? Why?</em></p>
<p>Unchecked (blue square) because there is nothing to monitor.</p>
</div>
<div class="section" id="more-on-transparent-virtual-servers">
<h3>More on Transparent Virtual Servers<a class="headerlink" href="#more-on-transparent-virtual-servers" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Why did we use gateway_icmp? What other kind of monitor could we
have used?</em></p>
<p>Because there isn’t a port on the pool member, you could have used a
transparent monitor to assign a L7 content monitor to check a specific
port.</p>
<p><em>Q2. Did it work? What were the image results?</em></p>
<p>Yes, images came from nodes 4 and 5.</p>
<p><em>Q3. Did it work?</em></p>
<p>dig &#64;10.1.20.12 hackazon.f5demo.com</p>
<p><em>Q4. Did it work? Why not and how would you fix it?</em></p>
<p>No, because it is a UDP protocol and a TCP profile is on the virtual
server. You could do a wildcard for the protocols and then it would work
or create a UDP transparent virtual.</p>
</div>
</div>
</div>
<div class="section" id="module-load-balancing-and-pools">
<h1>Module - Load Balancing and Pools<a class="headerlink" href="#module-load-balancing-and-pools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="load-balancing">
<h2>Load Balancing<a class="headerlink" href="#load-balancing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ratio-load-balancing">
<h3>Ratio Load Balancing<a class="headerlink" href="#ratio-load-balancing" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the difference between Node and Member?</em></p>
<p>Member is based on the connections for each pool member within a single
pool only, while Node takes into account all the connections an IP
address has across all pools it is a member of.</p>
<p><em>Q2. How many Total connections has each member taken? Is the ratio of
connections correct?</em></p>
<p>Yes, the pool member with a Ratio of 3 took 3 times the number of
connections</p>
<p><em>Q3. Does the ratio setting have any impact now?</em></p>
<p>No, the pool member ratios only have an effect if Ratio load balancing
is selected.</p>
</div>
<div class="section" id="priority-groups-lab">
<h3>Priority Groups Lab<a class="headerlink" href="#priority-groups-lab" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Are all members taking connections? Which member isnt taking
connections?</em></p>
<p>No, 10.1.20.13:80 in the low priority group is not taking connections.</p>
<p><em>Q2. Is the lower priority group activated and taking connections?</em></p>
<p>Yes, 10.1.20.13:80 in the low priority group is now taking connections.</p>
</div>
</div>
<div class="section" id="simple-source-address-persistence">
<h2>Simple (Source Address) Persistence<a class="headerlink" href="#simple-source-address-persistence" title="Permalink to this headline">¶</a></h2>
<p><em>Q1. How many members are taking traffic?</em></p>
<p>Only, one member is taking traffic</p>
<p><em>Q2. Check you Persists Records window, are the any persistence records?</em></p>
<p>Yes</p>
<p><em>Q3. Refresh you web page prior to the Age column reaching 120. What
happens?</em></p>
<p>The timer resets.</p>
<p><em>Q4. Could you access the web site? Why?</em></p>
<p>Yes, when a member is disabled, new connections can still be built to
it, if it there is a persist record pointing to it.</p>
<p><em>Q5. Could you access the web site? Why?</em></p>
<p>Force Offline only allows existing connections to be maintain, regardless
of persistence records.</p>
</div>
</div>
<div class="section" id="module-networking">
<h1>Module - Networking<a class="headerlink" href="#module-networking" title="Permalink to this headline">¶</a></h1>
<div class="section" id="self-ip-port-lockdown-and-more">
<h2>Self IP Port Lockdown and more<a class="headerlink" href="#self-ip-port-lockdown-and-more" title="Permalink to this headline">¶</a></h2>
<div class="section" id="effects-of-port-lockdown">
<h3>Effects of Port Lockdown<a class="headerlink" href="#effects-of-port-lockdown" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Was echo response received?</em></p>
<p>Ping reply successful</p>
<p><em>Q2. Was ssh successful? Why not?</em></p>
<p>No. Port lockdown set to <strong>Allow None</strong> by default</p>
<p><em>Q3. Did SSH work? Did browsing work?</em></p>
<p>Yes to SSH and No to browsing.</p>
<p><em>Q4. What other ports are opened when you select</em> <strong>Allow Defaults</strong>?</p>
<p>From the bigip.conf:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ospf</span>
<span class="n">tcp</span> <span class="o">-</span> <span class="n">snmp</span> <span class="p">(</span><span class="mi">161</span><span class="p">),</span> <span class="n">ssh</span> <span class="p">(</span><span class="mi">22</span><span class="p">),</span> <span class="mi">4353</span> <span class="p">(</span><span class="n">iquery</span><span class="o">/</span><span class="n">configsync</span><span class="p">),</span> <span class="n">https</span> <span class="p">(</span><span class="mi">443</span><span class="p">),</span> <span class="n">dns</span> <span class="p">(</span><span class="mi">53</span><span class="p">)</span>
<span class="n">udp</span> <span class="o">-</span> <span class="mi">1026</span> <span class="p">(</span><span class="n">Network</span> <span class="n">failover</span><span class="p">),</span> <span class="n">snmp</span> <span class="p">(</span><span class="mi">161</span><span class="p">),</span> <span class="mi">4353</span> <span class="p">(</span><span class="n">iquery</span><span class="o">/</span><span class="n">configsync</span><span class="p">),</span> <span class="mi">520</span><span class="p">,</span> <span class="n">dns</span> <span class="p">(</span><span class="mi">53</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Q5. Did SSH work? Did browsing work?</em></p>
<p>Yes to SSH and No to browsing.</p>
</div>
</div>
</div>
<div class="section" id="module-roles-and-partitions">
<h1>Module - Roles and Partitions<a class="headerlink" href="#module-roles-and-partitions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="roles-and-partitions">
<h2>Roles and Partitions<a class="headerlink" href="#roles-and-partitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-and-place-a-user-in-a-partition">
<h3>Create and place a user in a partition<a class="headerlink" href="#create-and-place-a-user-in-a-partition" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. In the upper right of the BIG-IP WebUI what partition are you in?</em></p>
<p>test_partition</p>
<p><em>Q2. Do you see the</em> <strong>test_vs</strong> <em>just created?</em></p>
<p>No</p>
<p><em>Q3. Do you see your change? Is your change permanent?</em></p>
<p>Yes, but configuration changes made in tmsh are not permanent until
written to disk (save sys config) or a change is made in the GUI.
Changes made in the GUI are push into memory and written to disk.</p>
<p><em>Q4. Did you find it in /config/bigip.conf?</em></p>
<p>No</p>
<p><em>Q5. Did you find your virtual server? Is the tmsh change you made in
there?</em></p>
<p>Yes, but the new description isn’t there.</p>
<p><em>Q6. Do you see the change now?</em></p>
<p>Yes</p>
<p><em>Q7. Where you able to?</em></p>
<p>No, you were kicked off the BIG-IP SSH session</p>
</div>
</div>
<div class="section" id="remote-authentication">
<h2>Remote Authentication<a class="headerlink" href="#remote-authentication" title="Permalink to this headline">¶</a></h2>
<div class="section" id="authenticate-against-ldap">
<h3>Authenticate against LDAP<a class="headerlink" href="#authenticate-against-ldap" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Were you successful?</em></p>
<p>Yes, well at least you should have been.</p>
<p><em>Q2. Were you successful?</em></p>
<p>No, local accounts aside admin are disabled when using remote
authentication.</p>
</div>
</div>
</div>
<div class="section" id="module-device-service-clusters-and-high-availability">
<h1>Module - Device Service Clusters and High Availability<a class="headerlink" href="#module-device-service-clusters-and-high-availability" title="Permalink to this headline">¶</a></h1>
<div class="section" id="building-a-dsc-device-service-cluster">
<h2>Building a DSC (Device Service Cluster)<a class="headerlink" href="#building-a-dsc-device-service-cluster" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base-networking-and-ha-vlan">
<h3>Base Networking and HA VLAN<a class="headerlink" href="#base-networking-and-ha-vlan" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the status your BIG-IPs?</em></p>
<p>Both are Active</p>
</div>
<div class="section" id="prepare-each-big-ip-for-high-availability">
<h3>Prepare each BIG-IP for High Availability<a class="headerlink" href="#prepare-each-big-ip-for-high-availability" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. If you were to add multiple IP addresses to the Failover Unicast, when
would the BIG-IP failover?</em></p>
<p>Only after the network polls for all the IP addresses failed.</p>
</div>
<div class="section" id="build-the-device-trust-and-device-group">
<h3>Build the Device Trust and Device Group<a class="headerlink" href="#build-the-device-trust-and-device-group" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Is all the information there?</em></p>
<p>Yes</p>
<p><em>Q2. What are the statuses of your BIG-IPs now?</em></p>
<p>Active In Sync</p>
<p><em>Q3. Did you have to create the Device Group on the other BIG-IP?</em></p>
<p>No, It was created automatically</p>
<p><em>Q4. Is the full configuration synchronized yet?</em></p>
<p>No. Only the Device Group is synced</p>
<p><em>Q5. What is the status and sync status on the BIG-IPs?</em></p>
<p>It should be Awaiting Initial Sync. Once BIG-IP is Active, the other is
Standby. There is no guarantee which BIG-IP will be the Active BIG-IP
when the device group is created.</p>
<p><em>Q6. Did the configuration synchronize? What, if any, errors do you see?</em></p>
<p>No, there was an error message on bigip02 indicating it could not load
avr_virtual2 because of iRule dependencies. Which was why you created
that virtual first in the AVR lab.</p>
<p><em>Q7. Any issue with that?</em></p>
<p>Yes, avr_virtual2 has dependencies.</p>
<p><em>Q8. What is the sync status of bigip02 once you made the change?</em></p>
<p>Changes Pending</p>
<p><em>Q9. Are the BIG-IPs In Sync? Are the configurations the same?</em></p>
<p>Yes and Yes</p>
<p>Browse to <a class="reference external" href="http://10.1.10.100">http://10.1.10.100</a></p>
<p><em>Q10. Could you access the site? Which BIG-IP passed the traffic?</em></p>
<p>Yes, the Active BIG-IP. You can tell because the virtual server is using SNAT Auto
Map and the source IP is selfIP address of the active device.</p>
</div>
</div>
<div class="section" id="failover-and-mirroring">
<h2>Failover and Mirroring<a class="headerlink" href="#failover-and-mirroring" title="Permalink to this headline">¶</a></h2>
<div class="section" id="testing-failover">
<h3>Testing Failover<a class="headerlink" href="#testing-failover" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. What is the source IP in the</em> <strong>Request Details</strong>?</p>
<p>10.1.20.246</p>
<p><em>Q2. What happened? Why?</em></p>
<p>Site couldn’t be reached. The secure_vs server does not use SNATs. The
secure_pool servers use the default gateway, 10.1.20.240, you built as
a self IP on bigip01.</p>
<p><em>Q3. Did the site work? What was the client IP? Why?</em></p>
<p>Yes, 10.1.10.51 because SNAT Auto Map is not configured on this virtual server and the pool member uses the floating IP as a default gateway.</p>
<p><em>Q4. What was the client IP address that the server saw (under</em> <strong>Request
Details</strong> <em>on the main page)? Why?</em></p>
<p>It should be 10.1.20.240. www_vs uses SNAT automap. The BIG-IP will
always use the floating IP for the SNAT if available. If you exceed
64000 simultaneous connection, the BIG-IP then uses the non-floating self
IP, but you probably should have created a SNAT pool, since you cannot mirror
SNAT connections on non-floating self IPs.</p>
<p><em>Q5. Does http://10.1.10.115 still work? What is the client IP?</em></p>
<p>Yes, 10.1.10.51</p>
</div>
<div class="section" id="mirroring">
<h3>Mirroring<a class="headerlink" href="#mirroring" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Do you have a persistence record on each BIG-IP? What would happen
if you did a failover?</em></p>
<p>No, only the Active unit had persistence records, upon failover
persistence would be lost.</p>
<p><em>Q2. If you had persistence records existing prior to mirroring would
they appear on the standby box?</em></p>
<p>No, BIG-IP only mirrors records created after mirroring is enabled.
Also, upon failover, the new Active BIG-IP will only mirror records
created after it became active.</p>
<p><em>Q3. Did you persist to the correct pool member? What is the client IP?</em></p>
<p>Yes, 10.1.10.240</p>
</div>
</div>
<div class="section" id="traffic-groups">
<h2>Traffic Groups<a class="headerlink" href="#traffic-groups" title="Permalink to this headline">¶</a></h2>
<div class="section" id="build-a-new-traffic-group">
<h3>Build a New Traffic Group<a class="headerlink" href="#build-a-new-traffic-group" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. When you did this, what other virtual servers were assign to tg-2?</em></p>
<p>ftp_vs</p>
<p><em>Q2. What are the states of you BIG-IPs?</em></p>
<p>Active-Active</p>
<p><em>Q3. Did the web site work? What was the client IP? Did ftp work? Why or
why not?</em></p>
<p>Yes the web site work, the client IP was 10.1.20.245 SNAT because the
10.1.20.240 address is not part of the tg-2. The ftp site did NOT work
because it’s SNAT pool IP is not part of the tg-2 traffic group</p>
<p><em>Q4. Did it work now?</em></p>
<p>Yes, if you made the change on the active device for tg-2. If not,
synchronize and try again</p>
</div>
</div>
</div>
<div class="section" id="module-security-and-securing-the-big-ip">
<h1>Module - Security and Securing the BIG-IP<a class="headerlink" href="#module-security-and-securing-the-big-ip" title="Permalink to this headline">¶</a></h1>
<div class="section" id="more-security-features">
<h2>More Security Features<a class="headerlink" href="#more-security-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="configure-audit-logging">
<h3>Configure Audit Logging<a class="headerlink" href="#configure-audit-logging" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Do you see when adminuser logged on? Do you see the change made in
the audit log?</em></p>
<p>Yes, to both.</p>
</div>
<div class="section" id="limiting-ssh-access-to-the-big-ip">
<h3>Limiting SSH access to the BIG-IP<a class="headerlink" href="#limiting-ssh-access-to-the-big-ip" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Does existing an SSH window still work? Does a new SSH work?</em></p>
<p>Existing SSH session worked. New ssh sessions could not be establish for
the jumpbox source IPs.</p>
<p><em>Q2. Were new ssh sessions established?</em></p>
<p>Yes, to 10.1.1.245, No, to 10.1.10.245 (the source IP for that would be
10.1.10.51)</p>
</div>
</div>
<div class="section" id="big-ip-remote-logging">
<h2>BIG-IP Remote Logging<a class="headerlink" href="#big-ip-remote-logging" title="Permalink to this headline">¶</a></h2>
<div class="section" id="test-your-logging-configuration">
<h3>Test your logging configuration<a class="headerlink" href="#test-your-logging-configuration" title="Permalink to this headline">¶</a></h3>
<p><em>Q1. Did you see messages on the syslog servers?</em></p>
<p>You saw and audit message and in the bigip.log:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bigip01</span><span class="o">.</span><span class="n">f5demo</span><span class="o">.</span><span class="n">com</span> <span class="n">mcpd</span><span class="p">[</span><span class="mi">7702</span><span class="p">]</span> <span class="n">Pool</span> <span class="o">/</span><span class="n">Common</span><span class="o">/</span><span class="n">www_pool</span> <span class="n">member</span><span class="o">/</span><span class="n">Common</span><span class="o">/</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">20.13</span><span class="p">:</span><span class="mi">80</span> <span class="n">session</span>   <span class="n">status</span> <span class="n">forced</span> <span class="n">disable</span>
</pre></div>
</div>
</div>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="module12.html" title="Appendix I - ANSWER KEY" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="../module13/module13.html" title="Appendix II - TMSH commands for Module 3.1" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>