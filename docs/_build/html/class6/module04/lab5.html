<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Inband Monitors</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Inband Monitors"/>
  <meta name="product" content="Unofficial - F5 Certification Exam Prep Material"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2020-08-13 09:31:44"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="Unofficial - F5 Certification Exam Prep Material" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Inband Monitors &#8212; Unofficial - F5 Certification Exam Prep Material  documentation</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5_agility_theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/CoveoFullSearch.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/21fb8a09c3.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab 5 - SSL" href="../module05/module05.html" />
    <link rel="prev" title="Extended Application Verification (EAV)" href="lab4.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>Unofficial - F5 Certification Exam Prep Material  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Intro:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Getting Started with the F5 Certification Program 03/29/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 101 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">F5 101 - App Delivery Fundamentals Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 201 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class2/class2.html">F5 201 - TMOS Administration Study Guide 11/01/19</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class3/class3.html">F5 201 - TMOS Administration Labs 08/11/2020</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 202 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">F5 202 - Pre-Sales Fundamentals Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 301A Certification Exam Resources:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">F5 301A - BIG-IP LTM Specialist: Architect, Set-Up &amp; Deploy Study Guide 11/01/19</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class6.html">F5 301A - BIG-IP LTM Specialist Labs 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 301B Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class7/class7.html">F5 301B - BIG-IP LTM Specialist: Maintain and Troubleshoot Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 302 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class9/class9.html">F5 302 - BIG-IP DNS Specialist Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 303 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class11/class11.html">F5 303 - BIG-IP ASM Specialist Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 304 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class13/class13.html">F5 304 - BIG-IP APM Specialist Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 401 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class15/class15.html">F5 401 - Security Solution Expert Study Guide 11/01/19</a></li>
</ul>
<p class="caption"><span class="caption-text">Unofficial - 402 Certification Exam Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../class17/class17.html">F5 402 - Cloud Solutions Study Guide 11/01/19</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Inband Monitors</a><ul>
<li><a class="reference internal" href="#create-an-inband-monitor-and-active-monitor-with-an-up-interval">Create an Inband monitor and Active monitor with an Up Interval</a></li>
<li><a class="reference internal" href="#assign-the-inband-monitor-to-a-pool-and-test">Assign the Inband monitor to a pool and test</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">Unofficial - F5 Certification Exam Prep Material</a>
              &gt; <a href="../class6.html">F5 301A - BIG-IP LTM Specialist Labs 11/01/19</a>
              &gt; <a href="module04.html">Lab 4 - Monitors and Status</a>

          <span class="right">
             <a href="../../_sources/class6/module04/lab5.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/leifbr/f5-agility-labs-cert">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="inband-monitors">
<h1>Inband Monitors<a class="headerlink" href="#inband-monitors" title="Permalink to this headline">¶</a></h1>
<p>In this exercise, you need to limited the amount of monitor traffic to
your back in servers. You will use the basic inband monitor, but you
would like the servers to come up faster than default of 5 minutes.
You will combine Inband and Active monitors to accomplish this.</p>
<div class="section" id="create-an-inband-monitor-and-active-monitor-with-an-up-interval">
<h2>Create an Inband monitor and Active monitor with an Up Interval<a class="headerlink" href="#create-an-inband-monitor-and-active-monitor-with-an-up-interval" title="Permalink to this headline">¶</a></h2>
<p>Create an inband monitor named <strong>my_inband</strong>.  Use all the defaults.</p>
<p>Note the 300 second retry timer, after 3 failures in a 30 second period the
BIG-IP will mark the member down and will not check the member again for
5 minutes.</p>
<p>Create a new custom monitor as the active monitor. Make the monitor an <strong>http</strong> monitor called <strong>active_http</strong>, with an <strong>Up Interval</strong> of <strong>60</strong> seconds and a <strong>Time Until Up</strong> of <strong>30</strong> second and a <strong>Receive String</strong> of <strong>200 OK</strong>.</p>
</div>
<div class="section" id="assign-the-inband-monitor-to-a-pool-and-test">
<h2>Assign the Inband monitor to a pool and test<a class="headerlink" href="#assign-the-inband-monitor-to-a-pool-and-test" title="Permalink to this headline">¶</a></h2>
<p>You are going to begin by removing the current monitors for the
<strong>www_pool</strong> and replacing them with the <strong>my_inband</strong> monitor only.</p>
<p>Go to the <strong>www_pool</strong> and remove all monitors and <strong>Update</strong>. Your
pool members show now be <strong>Unchecked</strong>.</p>
<p><em>Q1. What is the status of the</em> <strong>www_pool</strong> <em>and</em> <strong>www_vs</strong>
<em>configuration objects? Is the web site accessible? Why?</em></p>
<p>Add the <strong>my_inband</strong> monitor to the <strong>www_pool</strong>.</p>
<p><em>Q2. What are the status of</em> <strong>www_pool</strong> <em>and</em> <strong>www_vs</strong>? <em>Can you access
the web site?</em></p>
<p>Let’s simulate a failure. Open a new browser tab to
<strong>https://10.1.1.252:10000</strong> this will bring you to <strong>Webmin</strong> on the
back-end server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Username</span><span class="p">:</span> <span class="n">root</span>
<span class="n">Password</span><span class="p">:</span> <span class="n">default</span>
</pre></div>
</div>
<p>Under <strong>Servers</strong> on the side-bar, select the <strong>Apache Webserver</strong> link.
In the upper right corner select the <strong>Stop Apache</strong> link. This will
effectively bring the web sites down.</p>
<p>Go to your pool statistics. After 30 seconds what is the status of the
<strong>secure_pool</strong> and <strong>www_pool?</strong></p>
<p><em>Q3. Why is the</em> <strong>www_pool</strong> <em>still showing up?</em></p>
<p>Attempt to access <strong>http://10.1.10.100</strong> and refresh several times.</p>
<p><em>Q4. What is the status of the</em> <strong>www_pool</strong> <em>now?</em></p>
<p>In the <strong>Webmin</strong> tab, in the upper right corner, select <strong>Start Apache</strong>.</p>
<p>Once Apache is started, refresh you pool statistics page. Then try to
browse to <strong>http://10.1.10.100/</strong></p>
<p><em>Q5. What are the pool statuses and why?</em></p>
<p>It will be 300 seconds before the BIG-IP attempts to send any traffic to
the offline pool members.</p>
<p>Go to the <strong>www_pool</strong> and add the <strong>active_http</strong> monitor to the
pool.</p>
<p>Open a terminal window to BIG-IP and run the following tcpdump:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tcpdump</span> <span class="o">-</span><span class="n">nni</span> <span class="mf">1.2</span> <span class="o">-</span><span class="n">X</span> <span class="o">-</span><span class="n">s0</span> <span class="n">port</span> <span class="mi">80</span>
</pre></div>
</div>
<p><em>Q6. How often to you see monitor traffic to the</em> <strong>www_pool</strong>?</p>
<p>In the <strong>Webmin</strong> tab, <strong>Stop Apache</strong> again and attempt to browse
<strong>http://10.1.10.100</strong> and refresh several times. Check the status of your
pools. The <strong>secure_pool</strong> and <strong>www_pool</strong> should be offline.</p>
<p><em>Q7. How often to you see monitor traffic to the</em> <strong>www_pool</strong>?</p>
<p>In the <strong>Webmin</strong> tab <strong>Start Apache</strong>.</p>
<p><em>Q8. Did the www_pool come up within 30 seconds without client traffic?
What did the tcpdump show?</em></p>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="lab4.html" title="Extended Application Verification (EAV)" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="../module05/module05.html" title="Lab 5 - SSL" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>